<HEAD>
    <script type="text/javascript" charset="utf-8" src="./ebapi-modules.js"></script>
    <style>
        h1 {
            font-size: 2.5em;
            background-color: lightgray;
            margin: 5px;
            padding: 5px;
        }

        button {
            font-size: .5em;
        }

        input {
            font-size: 1.3em;
        }

        #scanData {
            width: 98%;
            margin: 10px;
        }
    </style>
</HEAD>

<BODY>
    <h1>Barcode
        <button (click)="navigate()">Home</button>
        <button (click)="quit()">Quit</button>
    </h1>
    <div id=content>
        <input id="scanData" type=text>
        <input type=button value="Enable Scan" (click)="fnScanEnable();">
        <input type=button value="Disable Scan" (click)="fnScanDisable();">
    </div>
</BODY>
<SCRIPT>
    
    function fnScanEnable() {
        console.log('TEST')
        EB.Barcode.enable({ allDecoders: true }, fnBarcodeScanned);
        document.getElementById('scanData').value
            = "enabled: press HW trigger to capture.";
    }

    function fnBarcodeScanned(jsonObject) {
        console.log("Barcode Scanned:{" + JSON.stringify(jsonObject) + "}");
        document.getElementById('scanData').value = "barcode: " + jsonObject.data;
    }

    function fnScanDisable() {
        EB.Barcode.disable();
        document.getElementById('scanData').value = "disabled: press 'enable' to scan.";
    }


</SCRIPT>